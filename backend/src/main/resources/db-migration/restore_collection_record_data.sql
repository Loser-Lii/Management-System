-- 验证 collection_record 表中是否有数据
SELECT COUNT(*) as total_count FROM collection_record;

-- 如果没有数据，重新插入完整的测试数据
-- 假设 customer 表和 salesman 表已经有数据了

INSERT INTO collection_record 
(id, amount_due, amount_received, collection_date, collection_method, create_time, due_date, remark, status, update_time, customer_id, sales_record_id, salesman_id) 
VALUES
-- 催款记录 1: 客户1，销售员1，销售记录1
(1, 600.00, 600.00, '2025-11-21', '电话', NOW(), '2025-11-26', '催款记录 1', '已回款', NOW(), 1, 1, 1),

-- 催款记录 2: 客户2，销售员1，销售记录2
(2, 175.00, 87.50, '2025-11-22', '现场', NOW(), '2025-11-26', '催款记录 2', '部分回款', NOW(), 2, 2, 1),

-- 催款记录 3: 客户2，销售员1，销售记录3
(3, 13.50, 6.75, '2025-11-23', '电话', NOW(), '2025-11-26', '催款记录 3', '未回款', NOW(), 2, 3, 1),

-- 催款记录 4: 客户3，销售员1，销售记录4
(4, 405.00, 405.00, '2025-11-24', '现场', NOW(), '2025-11-26', '催款记录 4', '已回款', NOW(), 3, 4, 1),

-- 催款记录 5: 客户3，销售员1，销售记录5
(5, 330.00, 165.00, '2025-11-25', '电话', NOW(), '2025-11-26', '催款记录 5', '部分回款', NOW(), 3, 5, 1),

-- 催款记录 6: 客户3，销售员1，销售记录6
(6, 234.00, 117.00, '2025-11-26', '现场', NOW(), '2025-11-26', '催款记录 6', '未回款', NOW(), 3, 6, 1),

-- 催款记录 7: 客户4，销售员1，销售记录7
(7, 4950.00, 4950.00, '2025-11-27', '电话', NOW(), '2025-11-26', '催款记录 7', '已回款', NOW(), 4, 7, 1),

-- 催款记录 8: 客户5，销售员2，销售记录8
(8, 2600.00, 1300.00, '2025-11-28', '现场', NOW(), '2025-11-26', '催款记录 8', '部分回款', NOW(), 5, 8, 2),

-- 催款记录 9: 客户5，销售员2，销售记录9
(9, 180.00, 90.00, '2025-11-29', '电话', NOW(), '2025-11-26', '催款记录 9', '未回款', NOW(), 5, 9, 2),

-- 催款记录 10: 客户6，销售员2，销售记录10
(10, 420.00, 420.00, '2025-11-30', '现场', NOW(), '2025-11-26', '催款记录 10', '已回款', NOW(), 6, 10, 2),

-- 催款记录 11: 客户6，销售员2，销售记录11
(11, 595.00, 297.50, '2025-11-21', '电话', NOW(), '2025-11-26', '催款记录 11', '部分回款', NOW(), 6, 11, 2),

-- 催款记录 12: 客户6，销售员2，销售记录12
(12, 418.00, 209.00, '2025-11-22', '现场', NOW(), '2025-11-26', '催款记录 12', '未回款', NOW(), 6, 12, 2),

-- 催款记录 13: 客户7，销售员2，销售记录13
(13, 306.00, 306.00, '2025-11-23', '电话', NOW(), '2025-11-26', '催款记录 13', '已回款', NOW(), 7, 13, 2),

-- 催款记录 14: 客户8，销售员2，销售记录14
(14, 161.50, 80.75, '2025-11-24', '现场', NOW(), '2025-11-26', '催款记录 14', '部分回款', NOW(), 8, 14, 2),

-- 催款记录 15: 客户8，销售员2，销售记录15
(15, 315.00, 157.50, '2025-11-25', '电话', NOW(), '2025-11-26', '催款记录 15', '未回款', NOW(), 8, 15, 2);

-- 验证插入后的数据
SELECT cr.id, cr.collection_no, cr.order_no, c.name as customer_name, s.name as salesman_name, cr.collection_date, cr.collection_method, cr.status
FROM collection_record cr
LEFT JOIN customer c ON cr.customer_id = c.id
LEFT JOIN salesman s ON cr.salesman_id = s.id
ORDER BY cr.id;
